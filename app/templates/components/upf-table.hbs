<thead>
  {{#upf-table/row}}
    {{#if hasSelection}}
      <th class='upf-table__header'>Select all</th>
    {{/if}}

    {{#each columns as |column|}}
      {{#unless (eq column.visible false)}}
        <th>{{column.title}}</th>
      {{/unless}}
    {{/each}}
  {{/upf-table/row}}
</thead>

<tbody>
  {{#each collection as |item index|}}
    {{#upf-table/row ref=item}}
      {{#if hasSelection}}
        <td>{{upf-checkbox value=item.selected}}</td>
      {{/if}}

      {{#each columns as |column|}}
        {{#unless (eq column.visible false)}}
          <td>{{get item column.property}}</td>
        {{/unless}}
      {{/each}}
    {{/upf-table/row}}
  {{/each}}
</tbody>
